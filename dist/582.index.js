"use strict";(self.webpackChunk_explorables_into_the_dark=self.webpackChunk_explorables_into_the_dark||[]).push([[582],{2582:(t,e,n)=>{n.d(e,{Ao:()=>Ie}),n(8903);var r=n(4752);function a(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}var u=n(8776),i=n(9757);function o(t,e){const n=function(t,e=i.Z){if(1===e.length)return function(t,e){let n,r=-1,a=-1;if(void 0===e)for(const e of t)++a,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=a);else for(let u of t)null!=(u=e(u,++a,t))&&(n>u||void 0===n&&u>=u)&&(n=u,r=a);return r}(t,e);let n,r=-1,a=-1;for(const u of t)++a,(r<0?0===e(u,u):e(u,n)<0)&&(n=u,r=a);return r}(t,e);return n<0?void 0:n}var l=n(7495),c=n(3896);const s=1e3,f=6e4,g=36e5,h=864e5,d=6048e5,v=31536e6,m=new Date,p=new Date;function y(t,e,n,r){function a(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return a.floor=e=>(t(e=new Date(+e)),e),a.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),a.round=t=>{const e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),a.range=(n,r,u)=>{const i=[];if(n=a.ceil(n),u=null==u?1:Math.floor(u),!(n<r&&u>0))return i;let o;do{i.push(o=new Date(+n)),e(n,u),t(n)}while(o<n&&n<r);return i},a.filter=n=>y((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(a.count=(e,r)=>(m.setTime(+e),p.setTime(+r),t(m),t(p),Math.floor(n(m,p))),a.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?e=>r(e)%t==0:e=>a.count(0,e)%t==0):a:null)),a}const T=y((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));T.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?y((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):T:null),T.range;const M=y((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*s)}),((t,e)=>(e-t)/s),(t=>t.getUTCSeconds())),C=(M.range,y((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*s)}),((t,e)=>{t.setTime(+t+e*f)}),((t,e)=>(e-t)/f),(t=>t.getMinutes()))),x=(C.range,y((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*f)}),((t,e)=>(e-t)/f),(t=>t.getUTCMinutes()))),D=(x.range,y((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*s-t.getMinutes()*f)}),((t,e)=>{t.setTime(+t+e*g)}),((t,e)=>(e-t)/g),(t=>t.getHours()))),U=(D.range,y((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*g)}),((t,e)=>(e-t)/g),(t=>t.getUTCHours()))),w=(U.range,y((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*f)/h),(t=>t.getDate()-1))),k=(w.range,y((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/h),(t=>t.getUTCDate()-1))),F=(k.range,y((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/h),(t=>Math.floor(t/h))));function A(t){return y((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*f)/d))}F.range;const Y=A(0),b=A(1),H=A(2),S=A(3),Z=A(4),L=A(5),V=A(6);function z(t){return y((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/d))}Y.range,b.range,H.range,S.range,Z.range,L.range,V.range;const W=z(0),_=z(1),O=z(2),P=z(3),J=z(4),j=z(5),q=z(6),I=(W.range,_.range,O.range,P.range,J.range,j.range,q.range,y((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),Q=(I.range,y((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),X=(Q.range,y((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));X.every=t=>isFinite(t=Math.floor(t))&&t>0?y((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,X.range;const B=y((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function E(t,e,n,r,a,u){const i=[[M,1,s],[M,5,5e3],[M,15,15e3],[M,30,3e4],[u,1,f],[u,5,3e5],[u,15,9e5],[u,30,18e5],[a,1,g],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,h],[r,2,1728e5],[n,1,d],[e,1,2592e6],[e,3,7776e6],[t,1,v]];function o(e,n,r){const a=Math.abs(n-e)/r,u=(0,l.Z)((([,,t])=>t)).right(i,a);if(u===i.length)return t.every((0,c.ly)(e/v,n/v,r));if(0===u)return T.every(Math.max((0,c.ly)(e,n,r),1));const[o,s]=i[a/i[u-1][2]<i[u][2]/a?u-1:u];return o.every(s)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const a=n&&"function"==typeof n.range?n:o(t,e,n),u=a?a.range(t,+e+1):[];return r?u.reverse():u},o]}B.every=t=>isFinite(t=Math.floor(t))&&t>0?y((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,B.range;const[G,R]=E(B,Q,W,F,U,x),[N,$]=E(X,I,Y,w,D,C);function K(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tt(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function et(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var nt,rt,at={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,it=/^%/,ot=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",u=a.length;return r+(u<n?new Array(n-u+1).join(e)+a:a)}function ct(t){return t.replace(ot,"\\$&")}function st(t){return new RegExp("^(?:"+t.map(ct).join("|")+")","i")}function ft(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function gt(t,e,n){var r=ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ht(t,e,n){var r=ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function dt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pt(t,e,n){var r=ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mt(t,e,n){var r=ut.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ct(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Dt(t,e,n){var r=ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ut(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function kt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ft(t,e,n){var r=ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function At(t,e,n){var r=ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yt(t,e,n){var r=it.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bt(t,e,n){var r=ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ht(t,e,n){var r=ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function St(t,e){return lt(t.getDate(),e,2)}function Zt(t,e){return lt(t.getHours(),e,2)}function Lt(t,e){return lt(t.getHours()%12||12,e,2)}function Vt(t,e){return lt(1+w.count(X(t),t),e,3)}function zt(t,e){return lt(t.getMilliseconds(),e,3)}function Wt(t,e){return zt(t,e)+"000"}function _t(t,e){return lt(t.getMonth()+1,e,2)}function Ot(t,e){return lt(t.getMinutes(),e,2)}function Pt(t,e){return lt(t.getSeconds(),e,2)}function Jt(t){var e=t.getDay();return 0===e?7:e}function jt(t,e){return lt(Y.count(X(t)-1,t),e,2)}function qt(t){var e=t.getDay();return e>=4||0===e?Z(t):Z.ceil(t)}function It(t,e){return t=qt(t),lt(Z.count(X(t),t)+(4===X(t).getDay()),e,2)}function Qt(t){return t.getDay()}function Xt(t,e){return lt(b.count(X(t)-1,t),e,2)}function Bt(t,e){return lt(t.getFullYear()%100,e,2)}function Et(t,e){return lt((t=qt(t)).getFullYear()%100,e,2)}function Gt(t,e){return lt(t.getFullYear()%1e4,e,4)}function Rt(t,e){var n=t.getDay();return lt((t=n>=4||0===n?Z(t):Z.ceil(t)).getFullYear()%1e4,e,4)}function Nt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function $t(t,e){return lt(t.getUTCDate(),e,2)}function Kt(t,e){return lt(t.getUTCHours(),e,2)}function te(t,e){return lt(t.getUTCHours()%12||12,e,2)}function ee(t,e){return lt(1+k.count(B(t),t),e,3)}function ne(t,e){return lt(t.getUTCMilliseconds(),e,3)}function re(t,e){return ne(t,e)+"000"}function ae(t,e){return lt(t.getUTCMonth()+1,e,2)}function ue(t,e){return lt(t.getUTCMinutes(),e,2)}function ie(t,e){return lt(t.getUTCSeconds(),e,2)}function oe(t){var e=t.getUTCDay();return 0===e?7:e}function le(t,e){return lt(W.count(B(t)-1,t),e,2)}function ce(t){var e=t.getUTCDay();return e>=4||0===e?J(t):J.ceil(t)}function se(t,e){return t=ce(t),lt(J.count(B(t),t)+(4===B(t).getUTCDay()),e,2)}function fe(t){return t.getUTCDay()}function ge(t,e){return lt(_.count(B(t)-1,t),e,2)}function he(t,e){return lt(t.getUTCFullYear()%100,e,2)}function de(t,e){return lt((t=ce(t)).getUTCFullYear()%100,e,2)}function ve(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function me(t,e){var n=t.getUTCDay();return lt((t=n>=4||0===n?J(t):J.ceil(t)).getUTCFullYear()%1e4,e,4)}function pe(){return"+0000"}function ye(){return"%"}function Te(t){return+t}function Me(t){return Math.floor(+t/1e3)}nt=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,u=t.days,i=t.shortDays,o=t.months,l=t.shortMonths,c=st(a),s=ft(a),f=st(u),g=ft(u),h=st(i),d=ft(i),v=st(o),m=ft(o),p=st(l),y=ft(l),T={a:function(t){return i[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:St,e:St,f:Wt,g:Et,G:Rt,H:Zt,I:Lt,j:Vt,L:zt,m:_t,M:Ot,p:function(t){return a[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Te,s:Me,S:Pt,u:Jt,U:jt,V:It,w:Qt,W:Xt,x:null,X:null,y:Bt,Y:Gt,Z:Nt,"%":ye},M={a:function(t){return i[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:$t,e:$t,f:re,g:de,G:me,H:Kt,I:te,j:ee,L:ne,m:ae,M:ue,p:function(t){return a[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Te,s:Me,S:ie,u:oe,U:le,V:se,w:fe,W:ge,x:null,X:null,y:he,Y:ve,Z:pe,"%":ye},C={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return U(t,e,n,r)},d:xt,e:xt,f:At,g:yt,G:pt,H:Ut,I:Ut,j:Dt,L:Ft,m:Ct,M:wt,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s.get(r[0].toLowerCase()),n+r[0].length):-1},q:Mt,Q:bt,s:Ht,S:kt,u:ht,U:dt,V:vt,w:gt,W:mt,x:function(t,e,r){return U(t,n,e,r)},X:function(t,e,n){return U(t,r,e,n)},y:yt,Y:pt,Z:Tt,"%":Yt};function x(t,e){return function(n){var r,a,u,i=[],o=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===t.charCodeAt(o)&&(i.push(t.slice(l,o)),null!=(a=at[r=t.charAt(++o)])?r=t.charAt(++o):a="e"===r?" ":"0",(u=e[r])&&(r=u(n,a)),i.push(r),l=o+1);return i.push(t.slice(l,o)),i.join("")}}function D(t,e){return function(n){var r,a,u=et(1900,void 0,1);if(U(u,t,n+="",0)!=n.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(e&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(a=(r=tt(et(u.y,0,1))).getUTCDay(),r=a>4||0===a?_.ceil(r):_(r),r=k.offset(r,7*(u.V-1)),u.y=r.getUTCFullYear(),u.m=r.getUTCMonth(),u.d=r.getUTCDate()+(u.w+6)%7):(a=(r=K(et(u.y,0,1))).getDay(),r=a>4||0===a?b.ceil(r):b(r),r=w.offset(r,7*(u.V-1)),u.y=r.getFullYear(),u.m=r.getMonth(),u.d=r.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),a="Z"in u?tt(et(u.y,0,1)).getUTCDay():K(et(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(a+5)%7:u.w+7*u.U-(a+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,tt(u)):K(u)}}function U(t,e,n,r){for(var a,u,i=0,o=e.length,l=n.length;i<o;){if(r>=l)return-1;if(37===(a=e.charCodeAt(i++))){if(a=e.charAt(i++),!(u=C[a in at?e.charAt(i++):a])||(r=u(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return T.x=x(n,T),T.X=x(r,T),T.c=x(e,T),M.x=x(n,M),M.X=x(r,M),M.c=x(e,M),{format:function(t){var e=x(t+="",T);return e.toString=function(){return t},e},parse:function(t){var e=D(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var e=D(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),rt=nt.format,nt.parse,nt.utcFormat,nt.utcParse;var Ce=n(9033),xe=n(4182);function De(t){return new Date(t)}function Ue(t){return t instanceof Date?+t:+new Date(+t)}function we(t,e,n,r,a,u,i,o,l,c){var s=(0,Ce.ZP)(),f=s.invert,g=s.domain,h=c(".%L"),d=c(":%S"),v=c("%I:%M"),m=c("%I %p"),p=c("%a %d"),y=c("%b %d"),T=c("%B"),M=c("%Y");function C(t){return(l(t)<t?h:o(t)<t?d:i(t)<t?v:u(t)<t?m:r(t)<t?a(t)<t?p:y:n(t)<t?T:M)(t)}return s.invert=function(t){return new Date(f(t))},s.domain=function(t){return arguments.length?g(Array.from(t,Ue)):g().map(De)},s.ticks=function(e){var n=g();return t(n[0],n[n.length-1],null==e?10:e)},s.tickFormat=function(t,e){return null==e?C:c(e)},s.nice=function(t){var n=g();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?g(function(t,e){var n,r=0,a=(t=t.slice()).length-1,u=t[r],i=t[a];return i<u&&(n=r,r=a,a=n,n=u,u=i,i=n),t[r]=e.floor(u),t[a]=e.ceil(i),t}(n,t)):s},s.copy=function(){return(0,Ce.JG)(s,we(t,e,n,r,a,u,i,o,l,c))},s}function ke(){return xe.o.apply(we(N,$,X,I,Y,w,D,C,M,rt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Fe=n(471),Ae=n(3905),Ye="event";function be(t){var e=!(Ye in Ae);return function(n,r){e?t.call(this,n,r):t.call(this,Ae[Ye],n)}}var He=n(6057),Se=n(7080);function Ze(t){return t*(2-t)}var Le=n(3838),Ve=200,ze=8,We=100,_e=1,Oe=2,Pe=3,Je=4;function je(t){return"translate("+t+",0)"}function qe(t){return"translate(0,"+t+")"}function Ie(t){return function(t,e){e=void 0!==e?e.copy():null;var n=[0],i=[0],l=[0,10],c=100,s=100,f=!0,g="M-5.5,-5.5v10l6,5.5l6,-5.5v-10z",h=null,d=null,v=3,m=null,p=null,y=null,T=null,M=null,C=(0,He.Z)("onchange","start","end","drag"),x=null,D=null,U=null,w=t===_e||t===Je?-1:1,k=t===Je||t===Oe?-1:1,F=t===Je||t===Oe?"y":"x",A=t===Je||t===Oe?"x":"y",Y=t===_e||t===Pe?je:qe,b=t===_e||t===Pe?qe:je,H=null;switch(t){case _e:H=r.F5;break;case Oe:H=r.Kh;break;case Pe:H=r.LL;break;case Je:H=r.y4}var S=null,Z=null;function L(r){x=r.selection?r.selection():r,e||(e=(e=l[0]instanceof Date?ke():(0,Fe.Z)()).domain(l).range(t===_e||t===Pe?[0,c]:[s,0]).clamp(!0)),D=(0,Fe.Z)().range(e.range()).domain(e.range()).clamp(!0),n=n.map((function(t){return(0,Fe.Z)().range(l).domain(l).clamp(!0)(t)})),p=p||e.tickFormat(),T=T||p||e.tickFormat(),x.selectAll(".axis").data([null]).enter().append("g").attr("transform",b(7*w)).attr("class","axis");var a=x.selectAll(".slider").data([null]),u=a.enter().append("g").attr("class","slider").attr("cursor",t===_e||t===Pe?"ew-resize":"ns-resize").call((0,Se.Z)().on("start",be((function(r){(0,Le.Z)(this).classed("active",!0);var u=D(t===Pe||t===_e?r.x:r.y);U=n[0]===l[0]&&n[1]===l[0]?1:n[0]===l[1]&&n[1]===l[1]?0:o(n.map((function(t){return Math.abs(t-z(e.invert(u)))})));var i=n.map((function(t,n){return n===U?z(e.invert(u)):t}));_(i),C.call("start",a,1===i.length?i[0]:i),W(i,!0)}))).on("drag",be((function(e){var n=O(D(t===Pe||t===_e?e.x:e.y));_(n),C.call("drag",a,1===n.length?n[0]:n),W(n,!0)}))).on("end",be((function(e){(0,Le.Z)(this).classed("active",!1);var n=O(D(t===Pe||t===_e?e.x:e.y));_(n),C.call("end",a,1===n.length?n[0]:n),W(n,!0),U=null}))));u.append("line").attr("class","track").attr(F+"1",e.range()[0]-k*ze).attr("stroke","#bbb").attr("stroke-width",6).attr("stroke-linecap","round"),u.append("line").attr("class","track-inset").attr(F+"1",e.range()[0]-k*ze).attr("stroke","#eee").attr("stroke-width",4).attr("stroke-linecap","round"),M&&u.append("line").attr("class","track-fill").attr(F+"1",1===n.length?e.range()[0]-k*ze:e(n[0])).attr("stroke",M).attr("stroke-width",4).attr("stroke-linecap","round"),u.append("line").attr("class","track-overlay").attr(F+"1",e.range()[0]-k*ze).attr("stroke","transparent").attr("stroke-width",40).attr("stroke-linecap","round").merge(a.select(".track-overlay"));var i=u.selectAll(".parameter-value").data(n.map((function(t,e){return{value:t,index:e}}))).enter().append("g").attr("class","parameter-value").attr("transform",(function(t){return Y(e(t.value))})).attr("font-family","sans-serif").attr("text-anchor",t===Oe?"start":t===Je?"end":"middle");function O(t){var r=z(e.invert(t));return n.map((function(t,e){return 2===n.length?e===U?0===U?Math.min(r,z(n[1])):Math.max(r,z(n[0])):t:e===U?r:t}))}i.append("path").attr("transform","rotate("+90*(t+1)+")").attr("d",g).attr("class","handle").attr("aria-label","handle").attr("aria-valuemax",l[1]).attr("aria-valuemin",l[0]).attr("aria-valuenow",(function(t){return t.value})).attr("aria-orientation",t===Je||t===Oe?"vertical":"horizontal").attr("focusable","true").attr("tabindex",0).attr("fill","white").attr("stroke","#777").on("keydown",be((function(t,e){var r=h||(l[1]-l[0])/We,a=m?o(m.map((function(t){return Math.abs(n[e.index]-t)}))):null;function u(t){return n.map((function(r,a){return 2===n.length?a===e.index?0===e.index?Math.min(t,z(n[1])):Math.max(t,z(n[0])):r:a===e.index?t:r}))}switch(t.key){case"ArrowLeft":case"ArrowDown":m?L.value(u(m[Math.max(0,a-1)])):L.value(u(+n[e.index]-r)),t.preventDefault();break;case"PageDown":m?L.value(u(m[Math.max(0,a-2)])):L.value(u(+n[e.index]-2*r)),t.preventDefault();break;case"ArrowRight":case"ArrowUp":m?L.value(u(m[Math.min(m.length-1,a+1)])):L.value(u(+n[e.index]+r)),t.preventDefault();break;case"PageUp":m?L.value(u(m[Math.min(m.length-1,a+2)])):L.value(u(+n[e.index]+2*r)),t.preventDefault();break;case"Home":L.value(u(l[0])),t.preventDefault();break;case"End":L.value(u(l[1])),t.preventDefault()}}))),f&&i.append("text").attr("font-size",10).attr(A,w*(24+v)).attr("dy",t===_e?"0em":t===Pe?".71em":".32em").attr("transform",n.length>1?"translate(0,0)":null).text((function(t,e){return T(n[e])})),r.select(".track").attr(F+"2",e.range()[1]+k*ze),r.select(".track-inset").attr(F+"2",e.range()[1]+k*ze),M&&r.select(".track-fill").attr(F+"2",1===n.length?e(n[0]):e(n[1])),r.select(".track-overlay").attr(F+"2",e.range()[1]+k*ze),r.select(".axis").call(H(e).tickFormat(p).ticks(y).tickValues(d).tickPadding(v)),x.select(".axis").select(".domain").remove(),r.select(".axis").attr("transform",b(7*w)),r.selectAll(".axis text").attr("fill","#aaa").attr(A,w*(17+v)).attr("dy",t===_e?"0em":t===Pe?".71em":".32em").attr("text-anchor",t===Oe?"start":t===Je?"end":"middle"),r.selectAll(".axis line").attr("stroke","#aaa"),r.selectAll(".parameter-value").attr("transform",(function(t){return Y(e(t.value))})),V(),Z=x.selectAll(".parameter-value text"),S=x.select(".track-fill")}function V(){if(x&&f){var t=[];if(n.forEach((function(e){var n=[];x.selectAll(".axis .tick").each((function(t){n.push(Math.abs(t-e))})),t.push(o(n))})),x.selectAll(".axis .tick text").attr("opacity",(function(e,n){return~t.indexOf(n)?0:1})),Z&&n.length>1){var e,r,a=[],u=[];Z.nodes().forEach((function(t,n){e=t.getBoundingClientRect(),r=t.getAttribute("transform").split(/[()]/)[1].split(",")["x"===F?0:1],a[n]=e[F]-parseFloat(r),u[n]=e["x"===F?"width":"height"]})),"x"===F?(r=Math.max(0,(a[0]+u[0]-a[1])/2),Z.attr("transform",(function(t,e){return"translate("+(1===e?r:-r)+",0)"}))):(r=Math.max(0,(a[1]+u[1]-a[0])/2),Z.attr("transform",(function(t,e){return"translate(0,"+(1===e?-r:r)+")"})))}}}function z(t){if(m){var e=o(m.map((function(e){return Math.abs(t-e)})));return m[e]}if(h){var n=(t-l[0])%h,r=t-n;return 2*n>h&&(r+=h),t instanceof Date?new Date(r):r}return t}function W(t,e){(n[0]!==t[0]||n.length>1&&n[1]!==t[1])&&(n=t,e&&C.call("onchange",L,1===t.length?t[0]:t),V())}function _(t,r){x&&((r=void 0!==r&&r)?(x.selectAll(".parameter-value").data(t.map((function(t,e){return{value:t,index:e}}))).transition().ease(Ze).duration(Ve).attr("transform",(function(t){return Y(e(t.value))})).select(".handle").attr("aria-valuenow",(function(t){return t.value})),M&&S.transition().ease(Ze).duration(Ve).attr(F+"1",1===n.length?e.range()[0]-w*ze:e(t[0])).attr(F+"2",1===n.length?e(t[0]):e(t[1]))):(x.selectAll(".parameter-value").data(t.map((function(t,e){return{value:t,index:e}}))).attr("transform",(function(t){return Y(e(t.value))})).select(".handle").attr("aria-valuenow",(function(t){return t.value})),M&&S.attr(F+"1",1===n.length?e.range()[0]-w*ze:e(t[0])).attr(F+"2",1===n.length?e(t[0]):e(t[1]))),f&&Z.text((function(e,n){return T(t[n])})))}return e&&(l=[a(e.domain()),(0,u.Z)(e.domain())],t===_e||t===Pe?c=(0,u.Z)(e.range())-a(e.range()):s=(0,u.Z)(e.range())-a(e.range()),e=e.clamp(!0)),L.min=function(t){return arguments.length?(l[0]=t,e&&e.domain(l),L):l[0]},L.max=function(t){return arguments.length?(l[1]=t,e&&e.domain(l),L):l[1]},L.domain=function(t){return arguments.length?(l=t,e&&e.domain(l),L):l},L.width=function(t){return arguments.length?(c=t,e&&e.range([e.range()[0],e.range()[0]+c]),L):c},L.height=function(t){return arguments.length?(s=t,e&&e.range([e.range()[0],e.range()[0]+s]),L):s},L.tickFormat=function(t){return arguments.length?(p=t,L):p},L.displayFormat=function(t){return arguments.length?(T=t,L):T},L.ticks=function(t){return arguments.length?(y=t,L):y},L.value=function(t){if(!arguments.length)return 1===n.length?n[0]:n;var r=Array.isArray(t)?t:[t];if(r.sort((function(t,e){return t-e})),e){var a=r.map(e).map(D).map(e.invert).map(z);_(a,!0),W(a,!0)}else n=r;return L},L.silentValue=function(t){if(!arguments.length)return 1===n.length?n[0]:n;var r=Array.isArray(t)?t:[t];if(r.sort((function(t,e){return t-e})),e){var a=r.map(e).map(D).map(e.invert).map(z);_(a,!1),W(a,!1)}else n=r;return L},L.default=function(t){if(!arguments.length)return 1===i.length?i[0]:i;var e=Array.isArray(t)?t:[t];return e.sort((function(t,e){return t-e})),i=e,n=e,L},L.step=function(t){return arguments.length?(h=t,L):h},L.tickValues=function(t){return arguments.length?(d=t,L):d},L.tickPadding=function(t){return arguments.length?(v=t,L):v},L.marks=function(t){return arguments.length?(m=t,L):m},L.handle=function(t){return arguments.length?(g=t,L):g},L.displayValue=function(t){return arguments.length?(f=t,L):f},L.fill=function(t){return arguments.length?(M=t,L):M},L.on=function(){var t=C.on.apply(C,arguments);return t===C?L:t},L}(Pe,t)}}}]);